var GridLayer=cc.Layer.extend({init:function(a,b,c){this._super();for(var d=a*c/2,e=b*c/2,f=0;f<=b;f++){var g=LineSprite.create(cc.p(-d,-e+f*c),cc.p(-d+a*c,-e+f*c),1);g.setColor(COLOR_WHITE);this.addChild(g)}for(f=0;f<=a;f++)g=LineSprite.create(cc.p(-d+f*c,-e),cc.p(-d+f*c,-e+b*c),1),g.setColor(COLOR_WHITE),this.addChild(g);return!0},setColor:function(a){for(var b=this.getChildren(),c=0;c<b.length;c++)b[c].setColor(a)}});
GridLayer.create=function(a,b,c){var d=new GridLayer;return d&&d.init(a,b,c)?d:null};var GameRuleLayer=cc.LayerColor.extend({ctor:function(){cc.associateWithNative(this,cc.LayerColor);this._super()},init:function(a){this._delegate=a;this._winSize=cc.Director.getInstance().getWinSize();cc.LayerColor.prototype.init.call(this,cc.c4b(0,0,0,180),this._winSize.width,this._winSize.height);a=cc.LabelTTF.create(LanguageUtil.getLocalizatedString(STRING_GAMERULE_TITLE),COMMON_FONT_NAME,50);a.setPosition(cc.p(this._winSize.width/2,18.5*this._winSize.height/20));this.addChild(a);a=[LanguageUtil.getLocalizatedString(STRING_GAMERULE_DETAIL_1),
LanguageUtil.getLocalizatedString(STRING_GAMERULE_DETAIL_2),LanguageUtil.getLocalizatedString(STRING_GAMERULE_DETAIL_3),LanguageUtil.getLocalizatedString(STRING_GAMERULE_DETAIL_4),LanguageUtil.getLocalizatedString(STRING_GAMERULE_DETAIL_5),LanguageUtil.getLocalizatedString(STRING_GAMERULE_DETAIL_6),LanguageUtil.getLocalizatedString(STRING_GAMERULE_DETAIL_7),LanguageUtil.getLocalizatedString(STRING_GAMERULE_DETAIL_8),LanguageUtil.getLocalizatedString(STRING_GAMERULE_DETAIL_9)];for(var b=0;b<a.length;b++){var c=
cc.LabelTTF.create(a[b],COMMON_FONT_NAME,22,new cc.size(9*this._winSize.width/10,100),cc.TEXT_ALIGNMENT_LEFT,cc.TEXT_ALIGNMENT_CENTER);c.setAnchorPoint(cc.p(0,0.5));c.setPosition(cc.p(2*this._winSize.width/20,16*this._winSize.height/20-40*b));this.addChild(c)}this.setTouchEnabled(!0);this.onTouchesBegan=function(a,b){g_isSEOn&&cc.AudioEngine.getInstance().playEffect(s_click);this.removeFromParent(!0)};return!0}});GameRuleLayer.create=function(a){var b=new GameRuleLayer;return b&&b.init(a)?b:null};var LeaderboardLayer=cc.LayerColor.extend({ctor:function(){cc.associateWithNative(this,cc.LayerColor);this._super()},init:function(a){this._delegate=a;this._winSize=cc.Director.getInstance().getWinSize();cc.LayerColor.prototype.init.call(this,cc.c4b(0,0,0,255),this._winSize.width,this._winSize.height);a=cc.LabelTTF.create(LanguageUtil.getLocalizatedString(STRING_LEADERBOARD_TITLE),COMMON_FONT_NAME,40);a.setPosition(cc.p(this._winSize.width/2,18.5*this._winSize.height/20));this.addChild(a);var b=cc.LabelTTF.create(LanguageUtil.getLocalizatedString(STRING_LEADERBOARD_PLAYER_LABEL),
COMMON_FONT_NAME,26),c=cc.LabelTTF.create(LanguageUtil.getLocalizatedString(STRING_LEADERBOARD_SCORE_LABEL),COMMON_FONT_NAME,26),d=cc.LabelTTF.create(LanguageUtil.getLocalizatedString(STRING_LEADERBOARD_LEVEL_LABEL),COMMON_FONT_NAME,26),e=cc.LabelTTF.create(LanguageUtil.getLocalizatedString(STRING_LEADERBOARD_DATE_LABEL),COMMON_FONT_NAME,26);b.setPosition(cc.p(2*this._winSize.width/10,8*this._winSize.height/10));c.setPosition(cc.p(4*this._winSize.width/10,8*this._winSize.height/10));d.setPosition(cc.p(6*
this._winSize.width/10,8*this._winSize.height/10));e.setPosition(cc.p(8*this._winSize.width/10,8*this._winSize.height/10));this.addChild(b);this.addChild(c);this.addChild(d);this.addChild(e);var f=cc.LabelTTF.create(LanguageUtil.getLocalizatedString(STRING_LEADERBOARD_LOADING_SCORE),COMMON_FONT_NAME,30);f.setPosition(cc.p(this._winSize.width/2,this._winSize.height/2));this.addChild(f);a=new Parse.Query(ScoreObject);var g=this;a.descending("tiles");a.equalTo("pf",PARSE_PLATFORM);a.limit(10);a.find({success:function(a){g.removeChild(f);
for(var h=0;h<a.length;h++){var k=a[h],l=cc.LabelTTF.create(k.attributes.playerName,COMMON_FONT_NAME,25),m=cc.LabelTTF.create(k.attributes.tiles,COMMON_FONT_NAME,25),n=cc.LabelTTF.create(k.attributes.gameLevel,COMMON_FONT_NAME,25),k=cc.LabelTTF.create(k.attributes.playDate,COMMON_FONT_NAME,25);l.setPosition(cc.p(b.getPositionX(),b.getPositionY()-35*(h+1)));m.setPosition(cc.p(c.getPositionX(),c.getPositionY()-35*(h+1)));n.setPosition(cc.p(d.getPositionX(),d.getPositionY()-35*(h+1)));k.setPosition(cc.p(e.getPositionX(),
e.getPositionY()-35*(h+1)));g.addChild(l);g.addChild(m);g.addChild(n);g.addChild(k)}},error:function(a){f.setString(LanguageUtil.getLocalizatedString(STRING_LEADERBOARD_LOADING_ERR))}});this.setTouchEnabled(!0);this.onTouchesBegan=function(a,b){g_isSEOn&&cc.AudioEngine.getInstance().playEffect(s_click);this.removeFromParent(!0)};return!0}});LeaderboardLayer.create=function(a){var b=new LeaderboardLayer;return b&&b.init(a)?b:null};var MainMenuLayer=cc.LayerColor.extend({ctor:function(){cc.associateWithNative(this,cc.LayerColor);this._super()},init:function(a){this._delegate=a;this._winSize=cc.Director.getInstance().getWinSize();cc.LayerColor.prototype.init.call(this,cc.c4b(0,0,0,150),this._winSize.width,this._winSize.height);a=cc.LabelTTF.create(LanguageUtil.getLocalizatedString(STRING_MAINMENU_TITLE),COMMON_FONT_NAME,50);a.setPosition(cc.p(this._winSize.width/2,18.5*this._winSize.height/20));this.addChild(a);this._createMenu();
this._splitRowAction=cc.Sequence.create(cc.SplitRows.create(0.5,10));return!0},_createMenu:function(){this.removeChildByTag(T_MAIN_MENU,!0);cc.MenuItemFont.setFontSize(30);cc.MenuItemFont.setFontName(COMMON_FONT_NAME);this._newGameMenuItem=cc.MenuItemFont.create(LanguageUtil.getLocalizatedString(STRING_PAUSE_NEW_GAME),this.newGameSelector,this);this._leaderboardMenuItem=cc.MenuItemFont.create(LanguageUtil.getLocalizatedString(STRING_LEADERBOARD_TITLE),this.leaderboardSelector,this);this._helpMenuItem=
cc.MenuItemFont.create(LanguageUtil.getLocalizatedString(STRING_GAMERULE_TITLE),this.gameRuleSelector,this);var a=cc.Menu.create(this._newGameMenuItem,this._leaderboardMenuItem,this._helpMenuItem);a.alignItemsVerticallyWithPadding(40);this.addChild(a,Z_MAIN_MENU,T_MAIN_MENU)},runSplitRowAction:function(){this.removeChildByTag(T_MAIN_MENU,!0);this.runAction(cc.Sequence.create(this._splitRowAction,cc.CallFunc.create(this.rowSplitActionDone,this)))},runSplitRowReverseAction:function(){this._createMenu();
this.runAction(cc.Sequence.create(cc.DelayTime.create(0.5),this._splitRowAction.reverse()))},newGameSelector:function(a){g_isSEOn&&cc.AudioEngine.getInstance().playEffect(s_click);this.runSplitRowAction()},rowSplitActionDone:function(){this._delegate&&this._delegate.newGame()},leaderboardSelector:function(a){g_isSEOn&&cc.AudioEngine.getInstance().playEffect(s_click);this._delegate&&this._delegate.leaderboard()},gameRuleSelector:function(a){g_isSEOn&&cc.AudioEngine.getInstance().playEffect(s_click);
a=GameRuleLayer.create(a);this.addChild(a,Z_HELPER_LAYER)}});MainMenuLayer.create=function(a){var b=new MainMenuLayer;return b&&b.init(a)?b:null};var g_isMusicOn=!0,g_isSEOn=!0,GameLayer=cc.Layer.extend({init:function(a,b,c){this._super();this._winSize=cc.Director.getInstance().getWinSize();this.initData();cc.AudioEngine.getInstance().playMusic(s_loop,!0);"IOS"!=GAME_PLATFORM&&(this._versionInfo=cc.LabelTTF.create(GAME_VERSION,COMMON_FONT_NAME,18),this._versionInfo.setPosition(cc.p(this._winSize.width-40,10)),this.addChild(this._versionInfo));this._mainMenuLayer=MainMenuLayer.create(this);this.addChild(this._mainMenuLayer,Z_MAIN_MENU_LAYER);
this._gameTitle=cc.LabelTTF.create(LanguageUtil.getLocalizatedString(STRING_MAINMENU_TITLE),COMMON_FONT_NAME,40);this._gameTitle.setPosition(cc.p(this._winSize.width/2,18.5*this._winSize.height/20));this.addChild(this._gameTitle);this._levelInfo=cc.LabelTTF.create("LEVEL: 1",COMMON_FONT_NAME,22);this._levelInfo.setPosition(cc.p(3*this._winSize.width/20,16.5*this._winSize.height/20));this.addChild(this._levelInfo);this._timerInfo=cc.LabelTTF.create("TIME: 60 S",COMMON_FONT_NAME,22);this._timerInfo.setPosition(cc.p(6.5*
this._winSize.width/20,16.5*this._winSize.height/20));this.addChild(this._timerInfo);this._scoreInfo=cc.LabelTTF.create("TILES: 0 ",COMMON_FONT_NAME,22);this._scoreInfo.setPosition(cc.p(11*this._winSize.width/20,16.5*this._winSize.height/20));this.addChild(this._scoreInfo);this._worldRecordLabel=cc.LabelTTF.create("WR: ??? TILES",COMMON_FONT_NAME,22);this._worldRecordLabel.setPosition(cc.p(16*this._winSize.width/20,16.5*this._winSize.height/20));this.addChild(this._worldRecordLabel);this._tileController=
TileController.create(a,b,c,this);this._tileController.updateTileLayerPosition(cc.p(this._winSize.width/2-a*c/2,2*this._winSize.height/5-b*c/2+15));this.addChild(this._tileController);this.addChild(this._tileController._tileLayer,Z_TILE_LAYER);this.createFloatingDot();this.setTouchEnabled(!0);"keyboard"in sys.capabilities&&this.setKeyboardEnabled(!0);return!0},onKeyDown:function(a){if(70==a){a=cc.Director.getInstance();var b=a.isDisplayStats();a.setDisplayStats(!b)}},initData:function(){this._gameLevel=
1;this._tilesRemoved=0;this._timeLeft=60;this._isLockDirection=this._touchEnabled=!1;this._targetTileType=this._hoveredTileDirection=0;this._targetTileColor=COLOR_WHITE;this._hoveredTile=null;this._linkedTileArray?this._linkedTileArray.length=0:this._linkedTileArray=[];this._superFeverModeProtector=this._isSuperFeverOn=this._isFeverOn=!1;this._worldRecordTiles=-1},onTouchesBegan:function(a,b){if(this._touchEnabled){var c=a[0].getLocation();if(this._tileController.isTouchInTileLayer(c)){if(this._isSuperFeverOn&&
this._superFeverModeProtector&&(c=this._tileController.tileFromTouch(c)))this._tileController.processSingleTile(c),this._superFeverModeProtector=!1,this.runAction(cc.Sequence.create(cc.DelayTime.create(0.5),cc.CallFunc.create(this.superFeverModeTimer)))}else this.pauseGame()}},onTouchesMoved:function(a,b){if(this._touchEnabled&&!this._isSuperFeverOn){var c=a[0].getLocation();if((c=this._tileController.tileFromTouch(c))&&c!=this._hoveredTile)if(this._hoveredTile&&(this._linkedTileArray.contains(c)||
!this.checkTilePosition(this._hoveredTile,c)||!this.checkTileType(c)))g_isSEOn&&cc.AudioEngine.getInstance().playEffect(s_error),this.updateTimeLeft(-3,!0),this._tileController.cleanGuideLine(),this.resetLinkedTile();else{if(this._isLockDirection&&(2==this._linkedTileArray.length+1&&(this._hoveredTileDirection=this.calcDirection(this._hoveredTile,c)),2<this._linkedTileArray.length+1&&this.calcDirection(this._hoveredTile,c)!=this._hoveredTileDirection)){g_isSEOn&&cc.AudioEngine.getInstance().playEffect(s_error);
this.updateTimeLeft(-3,!0);this._tileController.cleanGuideLine();this.resetLinkedTile();return}0==this._targetTileType&&100>=c._tileType&&(this._targetTileType=c._tileType,this._targetTileColor=c._shapeSprite.getColor());this._hoveredTile&&this._tileController.addGuideLine(this._hoveredTile.getPosition(),c.getPosition(),this._targetTileColor);this._hoveredTile=c;c.runAction(cc.RepeatForever.create(cc.Sequence.create(cc.ScaleTo.create(0.3,1.1),cc.ScaleTo.create(0.3,0.8))));this._linkedTileArray.push(c);
this.playLinkTileSE(this._linkedTileArray.length)}}},onTouchesEnded:function(a,b){this._touchEnabled&&0!=this._linkedTileArray.length&&(this._tileController.cleanGuideLine(),3<=this._linkedTileArray.length?(this._touchEnabled=!1,this._tileController.processLinkedTile(this._linkedTileArray)):(g_isSEOn&&cc.AudioEngine.getInstance().playEffect(s_error),this.updateTimeLeft(-3,!0),this.resetLinkedTile()))},checkTilePosition:function(a,b){if(this._isFeverOn){if(1>=Math.abs(b._xIndex-a._xIndex)&&1>=Math.abs(b._yIndex-
a._yIndex))return!0}else if(1==Math.abs(b._xIndex-a._xIndex)&&b._yIndex==a._yIndex||1==Math.abs(b._yIndex-a._yIndex)&&b._xIndex==a._xIndex)return!0;return!1},checkTileType:function(a){return 100<a._tileType||0==this._targetTileType?!0:this._targetTileType!=a._tileType?!1:!0},calcDirection:function(a,b){return a._xIndex==b._xIndex?X_DIRECTION:Y_DIRECTION},playLinkTileSE:function(a){var b=[s_tile0,s_tile1,s_tile2,s_tile3,s_tile4];g_isSEOn&&(a=5<a?5:a,cc.AudioEngine.getInstance().playEffect(b[a-1]))},
resetLinkedTile:function(){for(var a=this._targetTileType=0;a<this._linkedTileArray.length;a++){var b=this._linkedTileArray[a];b.stopAllActions();b.setScale(1)}this._linkedTileArray.length=0;this._hoveredTile=null},feverModeOn:function(a){this._gameTitle.setOpacity(100);var b=cc.LabelTTF.create(a?"SUPER FEVER MODE":"FEVER MODE",COMMON_FONT_NAME,24);b.setPosition(this._gameTitle.getPosition());b.setOpacity(0);b.setScale(8);this.addChild(b,Z_FEVER_LABEL,T_FEVER_LABEL);b.runAction(cc.Sequence.create(cc.Spawn.create(cc.FadeIn.create(0.5),
cc.ScaleTo.create(0.5,2)),cc.CallFunc.create(this.runFeverLabelAction,b)));a?this._isSuperFeverOn=!0:this._isFeverOn=!0;a?this._superFeverModeProtector=!0:this._superFeverModeProtector=!1;this.runAction(cc.Sequence.create(cc.DelayTime.create(5),cc.CallFunc.create(this.feverModeOff,this)))},feverModeOff:function(a){a._gameTitle.setOpacity(255);a.removeChildByTag(T_FEVER_LABEL,!0);a._isFeverOn=!1;a._isSuperFeverOn=!1;a._superFeverModeProtector=!1},processLinkedTileFinished:function(a,b,c){this.updateScore(a+
b);!this._isFeverOn&&(!this._isSuperFeverOn&&10<a+b&&15>a+b)&&this.feverModeOn(!1);!this._isFeverOn&&(!this._isSuperFeverOn&&15<=a+b)&&this.feverModeOn(!0);g_isSEOn&&cc.AudioEngine.getInstance().playEffect(s_pop);this.updateUIColor(this._targetTileColor);0<c&&this.updateTimeLeft(c,!0);this.showInfo("TILES: {0} + {1} - Time: +{2}".format(a,b,c));this._tileController.processAfterRemove()},processAfterRemoveFinished:function(){this.resetLinkedTile();this._touchEnabled=!0},allTilesReset:function(){this.showInfo("No More Moves, Tiles Reset !!!")},
submitScoreOver:function(){this._mainMenuLayer.runSplitRowReverseAction()},exitGame:function(){this.processGameOver(!1)},languageChanged:function(){this._pauseMenuLayer&&this._pauseMenuLayer.removeFromParent(!0);this._pauseMenuLayer=PauseMenuLayer.create(this);this.addChild(this._pauseMenuLayer,Z_PAUSE_LAYER)},runReadySetGoAction:function(){for(var a=[],b=0;4>b;b++){var c=cc.LabelTTF.create("",COMMON_FONT_NAME,30);c.setOpacity(0);c.setScale(10);c.setPosition(cc.p(this._winSize.width/2,this._winSize.height/
2));this.addChild(c,Z_COUNTDOWN_LABEL);a.push(c)}a[0].setString("3");a[1].setString("2");a[2].setString("1");a[3].setString("START!!!");a[0].runAction(cc.Sequence.create(cc.Spawn.create(cc.FadeIn.create(0.5),cc.ScaleTo.create(0.5,2)),cc.FadeOut.create(0.2),cc.CallFunc.create(this.removeTargetAfterAction,a[0])));a[1].runAction(cc.Sequence.create(cc.DelayTime.create(0.6),cc.Spawn.create(cc.FadeIn.create(0.5),cc.ScaleTo.create(0.5,2)),cc.FadeOut.create(0.2),cc.CallFunc.create(this.removeTargetAfterAction,
a[1])));a[2].runAction(cc.Sequence.create(cc.DelayTime.create(1.2),cc.Spawn.create(cc.FadeIn.create(0.5),cc.ScaleTo.create(0.5,2)),cc.FadeOut.create(0.2),cc.CallFunc.create(this.removeTargetAfterAction,a[2])));a[3].runAction(cc.Sequence.create(cc.DelayTime.create(1.8),cc.Spawn.create(cc.FadeIn.create(0.5),cc.ScaleTo.create(0.5,1)),cc.DelayTime.create(0.3),cc.Spawn.create(cc.FadeOut.create(0.5),cc.ScaleTo.create(0.5,8)),cc.CallFunc.create(this.removeTargetAfterAction,a[3])));this.runAction(cc.Sequence.create(cc.DelayTime.create(3.1),
cc.CallFunc.create(this.enableTimerAndTouch,this)))},createFloatingDot:function(){for(var a=0;50>a;a++){var b=DotSprite.create(5+10*Math.random());b.setColor(cc.c3b(255*Math.random(),255*Math.random(),255*Math.random()));b.setOpacity(100+100*Math.random());b.setPosition(cc.p(Math.random()*this._winSize.width,Math.random()*this._winSize.height));this.addChild(b,Z_FLOATING_DOT);var c=cc.p(Math.random()*this._winSize.width,Math.random()*this._winSize.height);b.runAction(cc.Sequence.create(cc.MoveTo.create(10+
5*Math.random(),c),cc.CallFunc.create(this.moveFloatingDot,b)))}},removeTargetAfterAction:function(a){a.removeFromParent(!0)},moveFloatingDot:function(a){var b=a.getParent(),c=cc.p(Math.random()*b.getContentSize().width,Math.random()*b.getContentSize().height);a.runAction(cc.Sequence.create(cc.MoveTo.create(10+5*Math.random(),c),cc.CallFunc.create(b.moveFloatingDot,a)))},runFeverLabelAction:function(a){a.runAction(cc.RepeatForever.create(cc.Sequence.create(cc.DelayTime.create(0.5),cc.Spawn.create(cc.FadeOut.create(0.3),
cc.ScaleTo.create(0.3,5),cc.TintBy.create(0.3,255,0,0)),cc.Spawn.create(cc.FadeIn.create(0.01),cc.ScaleTo.create(0.01,2),cc.TintBy.create(0.01,255,255,255)))))},newGame:function(){this.tryLoadWorldRecord();this.resetAllTimer(!0);this._tileController.restore3DEffect();this._tileController.updateRandomTypeCount(3);this._tileController.resetAllTiles();this.initData();this.updateScore(this._tilesRemoved);this.updateTimeLeft(0,!1);this.updateGameLevel(this._gameLevel);this.runReadySetGoAction()},enableTimerAndTouch:function(){this.schedule(this.onTimer,
1);this._touchEnabled=!0},resetGame:function(){this._tileController.resetAllTiles()},restartGame:function(){cc.Director.getInstance().getScheduler().resumeTarget(this);this._touchEnabled=!1;this.newGame()},showHint:function(){var a=this._tileController.getHintTiles();if(0<a.length)for(var b=0;b<a.length;b++)a[b].runAction(cc.Blink.create(0.5,10))},pauseGame:function(){g_isSEOn&&cc.AudioEngine.getInstance().playEffect(s_click);this._touchEnabled=!1;cc.Director.getInstance().getScheduler().pauseTarget(this);
this._pauseMenuLayer=PauseMenuLayer.create(this);this.addChild(this._pauseMenuLayer,Z_PAUSE_LAYER)},resumeGame:function(){cc.Director.getInstance().getScheduler().resumeTarget(this);this._touchEnabled=!0},leaderboard:function(){var a=LeaderboardLayer.create(this);this.addChild(a,Z_LEADERBOARD_LAYER)},submitScore:function(){var a=SubmitScoreLayer.create(this,this._gameLevel,this._tilesRemoved);this.addChild(a,Z_SUBMIT_SCORE_LAYER)},restoreLabel:function(){this._tileController.cleanGuideLine();this._timerInfo.stopAllActions();
this._worldRecordLabel.setColor(COLOR_WHITE);this.removeChildByTag(T_LOCK_DIRECTION_LABEL,!0);this._gameTitle.setOpacity(255);this.removeChildByTag(T_FEVER_LABEL,!0)},updateUIColor:function(a){this._tileController.updateTileLayerColor(a);this._gameTitle.setColor(a);this._timerInfo.setColor(a);this._scoreInfo.setColor(a);this._levelInfo.setColor(a)},updateScore:function(a){this.gameLevelup(this._tilesRemoved+a);this._tilesRemoved+=a;this._scoreInfo.setString("TILES: "+this._tilesRemoved);-1!=this._worldRecordTiles&&
this._tilesRemoved+50>this._worldRecordTiles&&(this._worldRecordLabel.setColor(COLOR_RED),this._worldRecordLabel.runAction(cc.Sequence.create(cc.ScaleTo.create(0.1,1.5),cc.ScaleTo.create(0.1,1))));-1!=this._worldRecordTiles&&this._tilesRemoved>this._worldRecordTiles&&(this._worldRecordLabel.setColor(COLOR_GREEN),this._worldRecordTiles=this._tilesRemoved,this._worldRecordLabel.setString("WR: "+this._worldRecordTiles+" TILES"),this._worldRecordLabel.runAction(cc.Sequence.create(cc.ScaleTo.create(0.1,
1.5),cc.ScaleTo.create(0.1,1))))},updateTimeLeft:function(a,b){this._timeLeft+=a;0>=this._timeLeft&&(this._timeLeft=0,this._timerInfo.setString("Time: 0 S"),this.processGameOver(!0));20>this._timeLeft?this._timerInfo.runAction(cc.Sequence.create(cc.ScaleTo.create(0.1,1.5),cc.ScaleTo.create(0.1,1))):b&&this._timerInfo.runAction(cc.Sequence.create(cc.ScaleTo.create(0.1,1.5),cc.ScaleTo.create(0.1,1)));this._timerInfo.setString("Time: "+this._timeLeft+" S")},updateGameLevel:function(a){1<a&&this._levelInfo.runAction(cc.Sequence.create(cc.ScaleTo.create(0.1,
2),cc.ScaleTo.create(0.1,1)));this._levelInfo.setString("LEVEL: "+a)},showInfo:function(a){a=cc.LabelTTF.create(a,COMMON_FONT_NAME,26);a.setPosition(cc.p(this._winSize.width/2,this._winSize.height/2));a.setColor(this._targetTileColor);this.addChild(a,Z_SHOW_INFO_LABEL);a.runAction(cc.Sequence.create(cc.MoveBy.create(1,cc.p(0,200)),cc.FadeOut.create(1),cc.CallFunc.create(this.removeTargetAfterAction,a)))},processGameOver:function(a){g_isSEOn&&cc.AudioEngine.getInstance().playEffect(s_endgame);this._touchEnabled=
!1;this.restoreLabel();this.resetAllTimer(!0);this.resetLinkedTile();this._tileController.restore3DEffect();this._tileController.restoreTileLayerEye();this._tileController.restoreTileLayerOpacity();this._tileController.removeTileLayerMask();this._tileController.shatterTileLayer(0.1);a?this.runAction(cc.Sequence.create(cc.DelayTime.create(0.5),cc.CallFunc.create(this.submitScore,this))):this._mainMenuLayer.runSplitRowReverseAction()},gameLevelup:function(a){a=parseInt(a/100+1);a>this._gameLevel&&(this._gameLevel=
a,this.updateGameLevel(this._gameLevel),this.processGameLevelup())},processGameLevelup:function(){this.resetAllTimer(!1);this._tileController.restore3DEffect();this._tileController.restoreTileLayerEye();2==this._gameLevel?(this._tileController.updateRandomTypeCount(4),this._tileController.orbitTilLayer(3,5,0,3)):3==this._gameLevel?(this._tileController.updateRandomTypeCount(5),this.schedule(this.rippleTileTimer,7)):4==this._gameLevel?this.schedule(this.shakeTileTimer,10):5==this._gameLevel?(this._tileController.updateRandomTypeCount(6),
this.schedule(this.lensTileTimer,7)):6==this._gameLevel?this.schedule(this.maskTileTimer,10):7==this._gameLevel?(this._tileController.orbitTilLayer(1,5,90,3),this.schedule(this.switchModeTimer,10)):(this._tileController.orbitTilLayer(1,10,90,3),this.schedule(this.switchModeTimer,10),this.schedule(this.maskTileTimer,10))},onTimer:function(a){this._tileController.decreaseTileLayerOpacity();this.updateTimeLeft(-1,!1)},shakeTileTimer:function(a){this._tileController.shakeTileLayer(5,5)},lensTileTimer:function(a){a=
cc.p(this._winSize.width/2+(-50+100*Math.random()),this._winSize.height/2+(-50+100*Math.random()));this._tileController.lensTileLayer(5,a,parseInt(100+100*Math.random()))},rippleTileTimer:function(a){a=cc.p(this._winSize.width/2+(-50+100*Math.random()),this._winSize.height/2+(-50+100*Math.random()));this._tileController.rippleTileLayer(5,a,parseInt(100+100*Math.random()),4)},switchModeTimer:function(a){this._isLockDirection=this._isLockDirection?!1:!0;(a=this.getChildByTag(T_LOCK_DIRECTION_LABEL))?
a.runAction(cc.Sequence.create(cc.Spawn.create(cc.ShuffleTiles.create(0.5,cc.size(16,12),25),cc.FadeOut.create(0.5)),cc.CallFunc.create(this.removeFromParent,a))):(a=cc.LabelTTF.create("DIRECTION LOCKED",COMMON_FONT_NAME,24),a.setPosition(cc.p(this._winSize.width/2,this._winSize.height/2)),a.setOpacity(0),a.setScale(8),this.addChild(a,Z_LOCK_DIRECTION_LABEL,T_LOCK_DIRECTION_LABEL),a.runAction(cc.Spawn.create(cc.FadeIn.create(0.5),cc.ScaleTo.create(0.5,2),cc.RotateBy.create(0.5,-30))))},maskTileTimer:function(a){a=
parseInt(3+7*Math.random());this._tileController.removeTileLayerMask();this._tileController.randomTileLayerMask(a)},resetAllTimer:function(a){a&&this.unschedule(this.onTimer);this.unschedule(this.shakeTileTimer);this.unschedule(this.lensTileTimer);this.unschedule(this.rippleTileTimer);this.unschedule(this.switchModeTimer);this.unschedule(this.maskTileTimer)},superFeverModeTimer:function(a){a._superFeverModeProtector=!0},tryLoadWorldRecord:function(){var a=new Parse.Query(ScoreObject),b=this;a.descending("tiles");
a.equalTo("pf",PARSE_PLATFORM);a.limit(1);b=this;a.find({success:function(a){b._worldRecordTiles=0<a.length?a[0].attributes.tiles:0;b._worldRecordLabel.setString("WR: "+b._worldRecordTiles+" TILES")},error:function(a){}})}}),GameScene=cc.Scene.extend({onEnter:function(){this._super();if("IOS"!=GAME_PLATFORM&&!1=="opengl"in sys.capabilities)alert(LanguageUtil.getLocalizatedString(STRING_NO_WEBGL_SUPPORT));else{var a=new GameLayer;a.init(TILE_ROW_COUNT,TILE_COLUMN_COUNT,TILE_SIZE);this.addChild(a)}}});var PauseMenuLayer=cc.LayerColor.extend({ctor:function(){cc.associateWithNative(this,cc.LayerColor);this._super()},init:function(a){this._delegate=a;this._winSize=cc.Director.getInstance().getWinSize();cc.LayerColor.prototype.init.call(this,cc.c4b(0,0,0,255),this._winSize.width,this._winSize.height);cc.MenuItemFont.setFontSize(30);cc.MenuItemFont.setFontName(COMMON_FONT_NAME);this._newGameMenuItem=cc.MenuItemFont.create(LanguageUtil.getLocalizatedString(STRING_PAUSE_NEW_GAME),this.newGameSeletor,
this);this._resumeGameMenuItem=cc.MenuItemFont.create(LanguageUtil.getLocalizatedString(STRING_PAUSE_RESUME_GAME),this.resumeGameSeletor,this);this._exitGameMenuItem=cc.MenuItemFont.create(LanguageUtil.getLocalizatedString(STRING_PAUSE_EXIT_GAME),this.exitGameSeletor,this);this._musicMenuItem=cc.MenuItemToggle.create(cc.MenuItemFont.create(LanguageUtil.getLocalizatedString(STRING_PAUSE_MUSIC_OFF)),cc.MenuItemFont.create(LanguageUtil.getLocalizatedString(STRING_PAUSE_MUSIC_ON)));g_isMusicOn&&this._musicMenuItem.setSelectedIndex(1);
this._musicMenuItem.setCallback(this.onMusicSelector,this);this._seMenuItem=cc.MenuItemToggle.create(cc.MenuItemFont.create(LanguageUtil.getLocalizatedString(STRING_PAUSE_SE_OFF)),cc.MenuItemFont.create(LanguageUtil.getLocalizatedString(STRING_PAUSE_SE_ON)));g_isSEOn&&this._seMenuItem.setSelectedIndex(1);this._seMenuItem.setCallback(this.onSESelector,this);this._languageMenuItem=cc.MenuItemToggle.create(cc.MenuItemFont.create(LanguageUtil.getLocalizatedString(STRING_PAUSE_LANGUAGE_EN)),cc.MenuItemFont.create(LanguageUtil.getLocalizatedString(STRING_PAUSE_LANGUAGE_CN)));
g_isSEOn&&this._languageMenuItem.setSelectedIndex(LanguageUtil.languageType==LANGUAGE_ENGLISH?0:1);this._languageMenuItem.setCallback(this.onLanguageSelector,this);a=cc.Menu.create(this._newGameMenuItem,this._resumeGameMenuItem,this._exitGameMenuItem,this._musicMenuItem,this._seMenuItem);a.alignItemsVerticallyWithPadding(20);this.addChild(a);return!0},newGameSeletor:function(a){g_isSEOn&&cc.AudioEngine.getInstance().playEffect(s_click);this.removeFromParent(!0);this._delegate&&this._delegate.restartGame()},
resumeGameSeletor:function(a){g_isSEOn&&cc.AudioEngine.getInstance().playEffect(s_click);this.removeFromParent(!0);this._delegate&&this._delegate.resumeGame()},exitGameSeletor:function(a){g_isSEOn&&cc.AudioEngine.getInstance().playEffect(s_click);this.removeFromParent(!0);this._delegate&&this._delegate.exitGame()},onMusicSelector:function(a){g_isMusicOn?(g_isMusicOn=!1,cc.AudioEngine.getInstance().stopMusic()):(g_isMusicOn=!0,cc.AudioEngine.getInstance().playMusic(s_loop,!0));g_isSEOn&&cc.AudioEngine.getInstance().playEffect(s_click)},
onSESelector:function(a){(g_isSEOn=g_isSEOn?!1:!0)&&cc.AudioEngine.getInstance().playEffect(s_click)},onLanguageSelector:function(a){0==a.getSelectedIndex()&&(LanguageUtil.languageType=LANGUAGE_ENGLISH);1==a.getSelectedIndex()&&(LanguageUtil.languageType=LANGUAGE_CHINESE);2==a.getSelectedIndex()&&(LanguageUtil.languageType=LANGUAGE_JAPANESE);this._delegate&&this._delegate.languageChanged()}});PauseMenuLayer.create=function(a){var b=new PauseMenuLayer;return b&&b.init(a)?b:null};var s_click=res_path+"res/click.wav",s_pop=res_path+"res/pop.wav",s_error=res_path+"res/error.ogg",s_loop=res_path+"res/loop.ogg",s_tile0=res_path+"res/tile-0.ogg",s_tile1=res_path+"res/tile-1.ogg",s_tile2=res_path+"res/tile-2.ogg",s_tile3=res_path+"res/tile-3.ogg",s_tile4=res_path+"res/tile-4.ogg",s_endgame=res_path+"res/endgame.ogg",s_editbox=res_path+"res/EditBox.png",g_ressources=[{src:s_click},{src:s_pop},{src:s_error},{src:s_loop},{src:s_tile0},{src:s_tile1},{src:s_tile2},{src:s_tile3},{src:s_tile4},
{src:s_endgame},{src:s_editbox}];var ScoreObject=Parse.Object.extend("ScoreObject",{initialize:function(){this.playerName="ANONYMOUS";this.tiles=0;this.gameLevel=1;this.playDate=nowStringDate();this.pf=""},updateScore:function(){this.set("playerName",this.playerName);this.set("tiles",this.tiles);this.set("gameLevel",this.gameLevel);this.set("playDate",this.playDate);this.set("pf",this.pf)},saveScore:function(a){this.updateScore();this.save(null,{success:function(b){a(1)},error:function(b){a(0)}})}});var SubmitScoreLayer=cc.LayerColor.extend({ctor:function(){cc.associateWithNative(this,cc.LayerColor);this._super()},init:function(a,b,c){this._delegate=a;this._level=b;this._tiles=c;this._winSize=cc.Director.getInstance().getWinSize();cc.LayerColor.prototype.init.call(this,cc.c4b(0,0,0,255),2*this._winSize.width/3,3*this._winSize.height/5);this.setPosition(cc.p(this._winSize.width/2-this.getContentSize().width/2,this._winSize.height/2-this.getContentSize().height/2));a=cc.LabelTTF.create(LanguageUtil.getLocalizatedString(STRING_SUBMIT_TITLE),
COMMON_FONT_NAME,this._winSize.width/26);a.setPosition(cc.p(this.getContentSize().width/2,18*this.getContentSize().height/20));this.addChild(a);this._statusLabel=cc.LabelTTF.create(LanguageUtil.getLocalizatedString(STRING_SUBMIT_INPUT_NAME),COMMON_FONT_NAME,this._winSize.width/36);this._statusLabel.setPosition(cc.p(this.getContentSize().width/2,14*this.getContentSize().height/20));this._statusLabel.setColor(cc.c3b(255,255,0));this.addChild(this._statusLabel);a=FrameSprite.create(this.getBoundingBox(),
3,-3);a.setColor(cc.c3b(255,255,255));this.addChild(a);a=cc.Scale9Sprite.create(s_editbox);this._editBox=cc.EditBox.create(cc.size(2*this.getContentSize().width/3,this.getContentSize().width/15),a);this._editBox.setPlaceHolder("");this._editBox.setColor(cc.c3b(100,100,100));this._editBox.setFont(COMMON_FONT_NAME,this.getContentSize().width/15);this._editBox.setFontColor(cc.c3b(255,255,255));this._editBox.setPosition(cc.p(this.getContentSize().width/2,this.getContentSize().height/2));this._editBox.setDelegate(this);
this._editBox.setMaxLength(10);this.addChild(this._editBox);cc.MenuItemFont.setFontSize(this.getContentSize().width/18);cc.MenuItemFont.setFontName(COMMON_FONT_NAME);this._submiteMenuItem=cc.MenuItemFont.create(LanguageUtil.getLocalizatedString(STRING_SUBMIT_CONFIRM),this.submitSelector,this);a=cc.MenuItemFont.create(LanguageUtil.getLocalizatedString(STRING_SUBMIT_CANCEL),this.cancelSelector,this);a=cc.Menu.create(this._submiteMenuItem,a);a.setPosition(cc.p(this.getContentSize().width/2,3*this.getContentSize().height/
20));a.alignItemsHorizontallyWithPadding(this.getContentSize().width/15);this.addChild(a);"IOS"!=GAME_PLATFORM&&(a=cc.MenuItemFont.create("   TWITTER   ",this.twitterShareSelector,this),b=cc.Menu.create(a),b.setPosition(cc.p(30,this.getContentSize().height/2)),this.addChild(b),b=FrameSprite.create(a.getBoundingBox(),2,6),b.setColor(cc.c3b(255,255,255)),a.addChild(b),a.setRotation(270));"WEIBO"==GAME_PLATFORM&&(a=cc.MenuItemFont.create("   WEIBO   ",this.sinaShareSelector,this),b=cc.Menu.create(a),
b.setPosition(cc.p(this.getContentSize().width-30,this.getContentSize().height/2)),this.addChild(b),b=FrameSprite.create(a.getBoundingBox(),2,5),b.setColor(cc.c3b(255,255,255)),a.addChild(b),a.setRotation(90));"FACEBOOK"==GAME_PLATFORM&&(a=cc.MenuItemFont.create("  FACEBOOK  ",this.facebookShareSelector,this),b=cc.Menu.create(a),b.setPosition(cc.p(this.getContentSize().width-30,this.getContentSize().height/2)),this.addChild(b),b=FrameSprite.create(a.getBoundingBox(),2,5),b.setColor(cc.c3b(255,255,
255)),a.addChild(b),a.setRotation(90));return!0},submitSelector:function(a){g_isSEOn&&cc.AudioEngine.getInstance().playEffect(s_click);if(""!=this._editBox.getText()){this._submiteMenuItem.setEnabled(!1);this._statusLabel.setString(LanguageUtil.getLocalizatedString(STRING_SUBMIT_UPLOADING));a=new ScoreObject;a.playerName=this._editBox.getText();a.gameLevel=this._level;a.tiles=this._tiles;a.pf=PARSE_PLATFORM;var b=this;a.saveScore(function(a){1==a?b._statusLabel.setString(LanguageUtil.getLocalizatedString(STRING_SUBMIT_OK)):
(b._statusLabel.setString(LanguageUtil.getLocalizatedString(STRING_SUBMIT_ERR)),this._submiteMenuItem.setEnabled(!0))})}},cancelSelector:function(a){this.removeFromParent(!0);g_isSEOn&&cc.AudioEngine.getInstance().playEffect(s_click);this._delegate&&this._delegate.submitScoreOver()},twitterShareSelector:function(a){alert("Not in beta version :)")},sinaShareSelector:function(a){alert("Not in beta version :)")},facebookShareSelector:function(a){alert("Not in beta version :)")},removeLayer:function(a){this.removeFromParent(!0);
this._delegate&&this._delegate.submitScoreOver()},editBoxReturn:function(a){}});SubmitScoreLayer.create=function(a,b,c){var d=new SubmitScoreLayer;return d&&d.init(a,b,c)?d:null};var TileController=cc.Node.extend({init:function(a,b,c,d){this._super();this._wTileCount=a;this._hTileCount=b;this._tileSize=c;this._delegate=d;this._randomTypeCount=3;this._affectedColumnArray=[];this._maskTileArray=[];this._guideLineArray=[];this._tileManager=new TileManager;this._tileLayer=TileLayer.create(this._wTileCount,this._hTileCount,this._tileSize);this._eye=this._tileLayer.getCamera().getEye();this._initTiles();this._updateAllTilesPosition();return!0},_initTiles:function(){for(var a=0;a<
this._wTileCount;a++)for(var b=0;b<this._hTileCount;b++){var c=TileSprite.create(0,a,b,this._tileSize);this._tileLayer.addChild(c);this._tileManager.addTile(c)}},_randomTileType:function(){return parseInt(1+Math.random()*this._randomTypeCount)},_randomItemType:function(a){a=parseInt(1+100*Math.random())+3*a;return 40>=a?101:40<a&&60>=a?102:60<a&&80>=a?103:80<a&&95>=a?105:104},_randomTileRange:function(a){a=parseInt(1+100*Math.random())+3*a;return 30>=a?1:30<a&&50>=a?2:50<a&&70>=a?3:70<a&&85>=a?4:
85<a&&95>=a?5:99},updateRandomTypeCount:function(a){this._randomTypeCount=a},_calcPosition:function(a,b){return cc.p(a*this._tileSize+this._tileSize/2,(this._hTileCount-b-1)*this._tileSize+this._tileSize/2)},_updateAllTilesPosition:function(){for(var a=this._tileManager.getAllTiles(),b=0;b<a.length;b++){var c=a[b];c.setPosition(this._calcPosition(c._xIndex-1,c._yIndex-1))}},addGuideLine:function(a,b,c){a=LineSprite.create(a,b,2);a.setColor(c);this._tileLayer.addChild(a,999);this._guideLineArray.push(a)},
cleanGuideLine:function(){for(var a=0;a<this._guideLineArray.length;a++)this._guideLineArray[a].removeFromParent(!0)},randomTileLayerMask:function(a){if(!(1>a||a>this._wTileCount*this._hTileCount))for(var b=this._maskTileArray.length=0;b<a;b++){var c=0,d=0,c=null;do c=parseInt(1+Math.random()*this._wTileCount),d=parseInt(1+Math.random()*this._hTileCount),c=this._tileManager.getTile(c,d);while(null==c||this._maskTileArray.contains(c));this._maskTileArray.push(c);d=FrameSprite.create(c.getBoundingBox(),
this._tileSize/5,0);d.setOpacity(240);d.setScale(0);c.addChild(d,Z_TILE_MASK,T_TILE_MASK);d.runAction(cc.ScaleTo.create(0.5,1))}},removeTileLayerMask:function(){for(var a=0;a<this._maskTileArray.length;a++){var b=this._maskTileArray[a].getChildByTag(T_TILE_MASK);b&&b.runAction(cc.Sequence.create(cc.ScaleTo.create(0.5,0),cc.CallFunc.create(this.removeTargetAfterAction,b)))}},decreaseTileLayerOpacity:function(){this._tileLayer.decreaseOpacity()},restoreTileLayerOpacity:function(){this._tileLayer.restoreOpacity()},
updateTileLayerColor:function(a){this._tileLayer.updateColor(a)},updateTileLayerPosition:function(a){this._tileLayer.setPosition(a)},shakeTileLayer:function(a,b){this._tileLayer.runAction(cc.Sequence.create(cc.Shaky3D.create(a,cc.size(15,10),b,!1),cc.CallFunc.create(this.restore3DEffect,this)))},restore3DEffect:function(){this._tileLayer.stopAllActions();this._tileLayer.setGrid(null)},lensTileLayer:function(a,b,c){this._tileLayer.runAction(cc.Sequence.create(cc.Lens3D.create(a,cc.size(15,10),b,c),
cc.CallFunc.create(this.restore3DEffect,this)))},shatterTileLayer:function(a){this._tileLayer.runAction(cc.ShatteredTiles3D.create(a,cc.size(16,12),5,!1))},rippleTileLayer:function(a,b,c,d){this._tileLayer.runAction(cc.Sequence.create(cc.Ripple3D.create(a,cc.size(32,24),b,c,d,120),cc.CallFunc.create(this.restore3DEffect,this)))},orbitTilLayer:function(a,b,c,d){var e=cc.OrbitCamera.create(a,1,0,0,b,c,0);a=cc.OrbitCamera.create(a,1,0,0,-b,c,0);d=cc.DelayTime.create(d);e=cc.Sequence.create(e,e.reverse(),
d,a,a.reverse());this._tileLayer.runAction(cc.RepeatForever.create(e))},updateTileLayerEye:function(a,b,c){this._tileLayer.getCamera().setEye(this._eye.x+a,this._eye.y+b,this._eye.z+c)},restoreTileLayerEye:function(){this._tileLayer.stopAllActions();this._tileLayer.getCamera().setEye(this._eye.x,this._eye.y,this._eye.z)},processLinkedTile:function(a){for(var b=[],c=0,d=0;d<a.length;d++){var e=a[d];100<e._tileType?c+=this.processItemEffect(e,a,b,c):(this.removeTile(e),this._affectedColumnArray.contains(e._xIndex)||
this._affectedColumnArray.push(e._xIndex))}3<a.length&&(e=a[a.length-1],this.addItemTile(e,a.length));c+=parseInt((a.length+b.length)/5);this._delegate&&this._delegate.processLinkedTileFinished(a.length,b.length,c)},processSingleTile:function(a){var b=[],c=[];if(100<a._tileType)this.processItemEffect(a,c,b,0);else{this._tileManager.getLinkedTileArray(a,c,a._tileType);if(3>c.length)return;for(a=0;a<c.length;a++){var d=c[a];this.removeTile(d);this._affectedColumnArray.contains(d._xIndex)||this._affectedColumnArray.push(d._xIndex)}}this._delegate&&
this._delegate.processLinkedTileFinished(c.length,b.length,0)},processAfterRemove:function(){this.dropTiles();this._affectedColumnArray.length=0;this.runAction(cc.Sequence.create(cc.DelayTime.create(0.3),cc.CallFunc.create(this.makeupTiles,this)))},processItemEffect:function(a,b,c,d){this._affectedColumnArray.contains(a._xIndex)||this._affectedColumnArray.push(a._xIndex);var e=[];105==a._tileType?d+=5:e=this._tileManager.getTargetTileArray(a);this.runItemEffectAction();this.removeTile(a);for(a=0;a<
e.length;a++){var f=e[a];!this._tileManager.checkTileInArray(f,b)&&!this._tileManager.checkTileInArray(f,c)&&(100<f._tileType?this.processItemEffect(f,b,c,d):(this._affectedColumnArray.contains(f._xIndex)||this._affectedColumnArray.push(f._xIndex),c.push(f),this.removeTile(f)))}return d},addItemTile:function(a,b){var c=this._randomItemType(b);if(104!=c){var d=this._randomTileRange(b);a.setTileRange(d)}a.setTileType(c)},removeTile:function(a){this.runRemoveTileAction(a);a.setTileType(0)},dropTiles:function(){for(var a=
0;a<this._affectedColumnArray.length;a++){for(var b=this._tileManager.getTilesForColumn(this._affectedColumnArray[a]),c=[],d=b.length-1;0<=d;d--){var e=b[d];if(0==e._tileType)c.insertAt(0,e);else{var f=c.length;0<f&&(e._yIndex+=f,this.runMoveTileAction(e))}}if(0<c.length)for(b=0;b<c.length;b++)e=c[b],e._yIndex=b+1,e.setPosition(this._calcPosition(e._xIndex-1,e._yIndex-1))}},resetAllTiles:function(){for(var a=this._tileManager.getAllTiles(),b=0;b<a.length;b++){var c=a[b],d=this._randomTileType();c.setTileType(d)}},
getHintTiles:function(){return this._tileManager.findAnyConnectedTiles()},removeTargetAfterAction:function(a){a.removeFromParent(!0)},runMoveTileAction:function(a){a.runAction(cc.MoveTo.create(0.1,this._calcPosition(a._xIndex-1,a._yIndex-1)))},runRemoveTileAction:function(a){for(var b=[0.5,0.5,-0.5,-0.5],c=[0.5,-0.5,-0.5,0.5],d=0;4>d;d++){var e=DotSprite.create(10,1,1);e.setColor(COLOR_WHITE);e.setPosition(a.getPosition());e.setPosition(a.getPosition());this._tileLayer.addChild(e);e.runAction(cc.Sequence.create(cc.Spawn.create(cc.MoveBy.create(0.3,
cc.p(200*b[d],200*c[d])),cc.ScaleTo.create(0.3,0)),cc.CallFunc.create(this.removeTargetAfterAction,e)))}},runItemEffectAction:function(){this._tileLayer.runAction(cc.Blink.create(0.1,1))},makeupTiles:function(a){for(a=0;a<this._wTileCount;a++)for(var b=this._tileManager.getTilesForColumn(a+1),c=0;c<b.length;c++){var d=b[c];if(0==d._tileType){var e=this._randomTileType();d.setTileType(e)}}null==this._tileManager.findAnyConnectedTiles()&&(this.resetAllTiles(),this._delegate&&this._delegate.allTilesReset());
this._delegate&&this._delegate.processAfterRemoveFinished()},tileFromTouch:function(a){a=this._tileLayer.convertToNodeSpace(a);return this._tileManager.tileFromPosition(a)},isTouchInTileLayer:function(a){return cc.rectContainsPoint(this._tileLayer.getBoundingBox(),a)}});TileController.create=function(a,b,c,d){var e=new TileController;return e&&e.init(a,b,c,d)?e:null};var TileLayer=cc.LayerColor.extend({ctor:function(){cc.associateWithNative(this,cc.LayerColor);this._super()},init:function(a,b,c){cc.LayerColor.prototype.init.call(this,cc.c4b(0,0,0,255),a*c,b*c);this._wTileCount=a;this._hTileCount=b;this._tileSize=c;this._gridLayer=GridLayer.create(a,b,c);this._gridLayer.setPosition(cc.p(a*c/2,b*c/2));this.addChild(this._gridLayer);return!0},updateColor:function(a){this._gridLayer.setColor(a)},decreaseOpacity:function(){var a=this.getOpacity();0<a&&a--;this.setOpacity(a)},
restoreOpacity:function(){this.setOpacity(255)}});TileLayer.create=function(a,b,c){var d=new TileLayer;return d&&d.init(a,b,c)?d:null};var TileManager=function(){this._tilesArray=[];this.getAllTiles=function(){return this._tilesArray};this.addTile=function(a){this._tilesArray.push(a)};this.getTargetTileArray=function(a){return 101==a._tileType?this.getAroundTiles(a):102==a._tileType?this.getTilesForColumnWithRange(a):103==a._tileType?this.getTilesForRowWithRange(a):104==a._tileType?this.getTilesForType(a._tileRange):[]};this.getLinkedTileArray=function(a,b,c){if(a._tileType==c){for(var d=0;d<b.length;d++){var e=b[d];if(e._xIndex==
a._xIndex&&e._yIndex==a._yIndex)return}b.push(a);(d=this.getTile(a._xIndex-1,a._yIndex))&&this.getLinkedTileArray(d,b,c);(d=this.getTile(a._xIndex+1,a._yIndex))&&this.getLinkedTileArray(d,b,c);(d=this.getTile(a._xIndex,a._yIndex-1))&&this.getLinkedTileArray(d,b,c);(a=this.getTile(a._xIndex,a._yIndex+1))&&this.getLinkedTileArray(a,b,c)}};this.getTile=function(a,b){for(var c=0;c<this._tilesArray.length;c++){var d=this._tilesArray[c];if(d._xIndex==a&&d._yIndex==b)return d}return null};this.getTilesForColumn=
function(a){var b=[],c=1;do{var d=this.getTile(a,c);d&&(b.push(d),c++)}while(d);return b};this.getTilesForRowWithRange=function(a){var b=[],c=0;do{var d=this.getTile(a._xIndex-1-c,a._yIndex);d&&(b.push(d),c++)}while(d&&c<a._tileRange);c=0;do if(d=this.getTile(a._xIndex+1+c,a._yIndex))b.push(d),c++;while(d&&c<a._tileRange);return b};this.getTilesForColumnWithRange=function(a){var b=[],c=0;do{var d=this.getTile(a._xIndex,a._yIndex-1-c);d&&(b.push(d),c++)}while(d&&c<a._tileRange);c=0;do if(d=this.getTile(a._xIndex,
a._yIndex+1+c))b.push(d),c++;while(d&&c<a._tileRange);return b};this.getTilesForRow=function(a){var b=[],c=1;do{var d=this.getTile(c,a);d&&(b.push(d),c++)}while(d);return b};this.getAroundTiles=function(a){var b=[],c=this.getTile(a._xIndex-1,a._yIndex);c&&b.push(c);(c=this.getTile(a._xIndex+1,a._yIndex))&&b.push(c);(c=this.getTile(a._xIndex,a._yIndex-1))&&b.push(c);(c=this.getTile(a._xIndex,a._yIndex+1))&&b.push(c);(c=this.getTile(a._xIndex-1,a._yIndex-1))&&b.push(c);(c=this.getTile(a._xIndex-1,a._yIndex+
1))&&b.push(c);(c=this.getTile(a._xIndex+1,a._yIndex-1))&&b.push(c);(a=this.getTile(a._xIndex+1,a._yIndex+1))&&b.push(a);return b};this.getCrossTiles=function(a){var b=[],c=this.getTile(a._xIndex-1,a._yIndex);c&&b.push(c);(c=this.getTile(a._xIndex+1,a._yIndex))&&b.push(c);(c=this.getTile(a._xIndex,a._yIndex-1))&&b.push(c);(a=this.getTile(a._xIndex,a._yIndex+1))&&b.push(a);return b};this.getTilesForType=function(a){for(var b=[],c=0;c<this._tilesArray.length;c++){var d=this._tilesArray[c];d._tileType==
a&&b.push(d)}return b};this.checkTileInArray=function(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(d._xIndex==a._xIndex&&d._yIndex==a._yIndex)return!0}return!1};this.tileFromPosition=function(a){for(var b=0;b<this._tilesArray.length;b++){var c=this._tilesArray[b];if(cc.rectContainsPoint(c.getRect(),a))return c}return null};this.findAnyConnectedTiles=function(){for(var a=0;a<this._tilesArray.length;a++){var b=[],c=this._tilesArray[a];b.push(c);var d=this.getCrossTiles(c);if(100<c._tileType)for(var e=
0;e<d.length;e++)for(var f=d[e],c=e+1;c<d.length;c++){var g=d[c];if(100<f._tileType||100<g._tileType||f._tileType==g._tileType)return b.push(f),b.push(g),b}else for(e=0;e<d.length;e++)if(f=d[e],(f._tileType==c._tileType||100<f._tileType)&&b.push(f),3<=b.length)return b}return null}};var TileSprite=cc.Node.extend({init:function(a,b,c,d){this._super();this._xIndex=b+1;this._yIndex=c+1;this._tileSize=d;this._tileType=a;this._tileRange=0;this._shapeSprite=null;this.updateShapeSprite();return!0},updateShapeSprite:function(){this._shapeSprite&&(this.removeChild(this._shapeSprite,!0),this._shapeSprite=null);if(0!=this._tileType)if(1<=this._tileType&&100>=this._tileType)this._shapeSprite=DotSprite.create(this._tileSize/4,1,1),1==this._tileType?this._shapeSprite.setColor(COLOR_WHITE):
2==this._tileType?this._shapeSprite.setColor(COLOR_RED):3==this._tileType?this._shapeSprite.setColor(COLOR_GREEN):4==this._tileType?this._shapeSprite.setColor(COLOR_YELLOW):5==this._tileType?this._shapeSprite.setColor(COLOR_BLUE):6==this._tileType?this._shapeSprite.setColor(COLOR_MAGENTA):this._shapeSprite.setColor(COLOR_CYAN);else if(100<this._tileType){this._shapeSprite=PolygonSprite.create(6,this._tileSize/3);if(101==this._tileType){this._shapeSprite.setColor(COLOR_FIREBRICK);var a=cc.LabelTTF.create("A",
COMMON_FONT_NAME,18)}else 102==this._tileType?(this._shapeSprite.setColor(COLOR_GOLD),a=cc.LabelTTF.create("V"+(99==this._tileRange?"*":this._tileRange),COMMON_FONT_NAME,18)):103==this._tileType?(this._shapeSprite.setColor(COLOR_SKYBLUE),a=cc.LabelTTF.create("H"+(99==this._tileRange?"*":this._tileRange),COMMON_FONT_NAME,18)):104==this._tileType?(this._tileRange=parseInt(1+4*Math.random()),1==this._tileRange?this._shapeSprite.setColor(COLOR_WHITE):2==this._tileRange?this._shapeSprite.setColor(COLOR_RED):
3==this._tileRange?this._shapeSprite.setColor(COLOR_GREEN):4==this._tileRange&&this._shapeSprite.setColor(COLOR_YELLOW),a=cc.LabelTTF.create("C",COMMON_FONT_NAME,18)):(this._shapeSprite.setColor(COLOR_VIOLETRED),a=cc.LabelTTF.create("T5",COMMON_FONT_NAME,18));a.setColor(COLOR_BLACK);this._shapeSprite.addChild(a,Z_TILE_NAME)}this._shapeSprite&&this.addChild(this._shapeSprite)},setTileType:function(a){this._tileType!=a&&(105<a&&(a=105),this._tileType=a,this.updateShapeSprite())},setTileRange:function(a){this._tileRange=
a},getRect:function(){return cc.rect(this.getPositionX()-this._tileSize/2+this._tileSize/4,this.getPositionY()-this._tileSize/2+this._tileSize/4,this._tileSize-this._tileSize/4,this._tileSize-this._tileSize/4)},getCenter:function(){return cc.p(this.getPositionX()+this.getContentSize().width,this.getPositionY()+this.getContentSize().height)}});TileSprite.create=function(a,b,c,d){var e=new TileSprite;return e&&e.init(a,b,c,d)?e:null};var GAME_VERSION="BETA V0.1",PARSE_PLATFORM="WEB",GAME_PLATFORM="BLOG",TILE_ROW_COUNT=13,TILE_COLUMN_COUNT=8,TILE_SIZE=44,COMMON_FONT_NAME="Impact",X_DIRECTION=1,Y_DIRECTION=2,T_FEVER_LABEL=888,T_LOCK_DIRECTION_LABEL=666,T_MAIN_MENU=555,T_TILE_MASK=444,Z_MAIN_MENU=999,Z_MAIN_MENU_LAYER=999,Z_HELPER_LAYER=999,Z_PAUSE_LAYER=999,Z_SUBMIT_SCORE_LAYER=999,Z_LEADERBOARD_LAYER=999,Z_TILE_LAYER=5,Z_COUNTDOWN_LABEL=999,Z_FLOATING_DOT=2,Z_FEVER_LABEL=999,Z_SHOW_INFO_LABEL=999,Z_LOCK_DIRECTION_LABEL=999,Z_TILE_MASK=
999,Z_TILE_NAME=999,COLOR_WHITE=cc.c3b(255,255,255),COLOR_BLACK=cc.c3b(0,0,0),COLOR_RED=cc.c3b(255,0,0),COLOR_GREEN=cc.c3b(0,255,0),COLOR_BLUE=cc.c3b(0,0,255),COLOR_MAGENTA=cc.c3b(255,0,255),COLOR_CYAN=cc.c3b(0,255,255),COLOR_YELLOW=cc.c3b(255,255,0),COLOR_MOCCASIN=cc.c3b(255,228,181),COLOR_MISTYROSE=cc.c3b(255,228,225),COLOR_SKYBLUE=cc.c3b(135,206,235),COLOR_PINK=cc.c3b(255,192,203),COLOR_GOLD=cc.c3b(255,215,0),COLOR_SPRINGGREEN=cc.c3b(0,255,127),COLOR_FIREBRICK=cc.c3b(255,48,48),COLOR_LIGHTSKYBKUE=
cc.c3b(135,206,250),COLOR_VIOLETRED=cc.c3b(255,62,150);Array.prototype.swapArrayElements=function(a,b){var c=this[a];this[a]=this[b];this[b]=c};Array.prototype.clear=function(){this.length=0};Array.prototype.insertAt=function(a,b){this.splice(a,0,b)};Array.prototype.removeAt=function(a){this.splice(a,1)};Array.prototype.remove=function(a){a=this.indexOf(a);0<=a&&this.removeAt(a)};Array.prototype.contains=function(a){for(var b=this.length;b--;)if(this[b]===a)return!0;return!1};function newFilledArray(a,b){for(var c=[],d=0;d<a;d++)c[d]=b;return c}
String.prototype.format=function(){for(var a=this,b=0;b<arguments.length;b++)a=a.replace(RegExp("\\{"+b+"\\}","gi"),arguments[b]);return a};String.prototype.beginsWith=function(a){return this.substring(0,a.length)==a};Object.size=function(a){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b};function daysInMonth(a,b){return(new Date(b,a,0)).getDate()}function getFirstDay(a,b){var c=new Date;c.setFullYear(b);c.setMonth(a-1);c.setDate(1);return c.getDay()}
function stringFromTime(a){a=new Date(1E3*a);var b=a.getDate(),c=a.getMonth()+1;return a.getFullYear()+"."+c+"."+b}function nowStringDate(){return stringFromTime((new Date).getTime()/1E3)};var ShapeSprite=cc.Node.extend({init:function(){this._super()&&(this._color=cc.c3b(255,255,255),this._opacity=255,this._draw=cc.DrawNode.create(),this.addChild(this._draw,999),bRet=!0);return bRet},_reset:function(){cc.log("_reset")},setColor:function(a){this._color=a;this._reset()},setOpacity:function(a){this._opacity=a;this._reset()},getColor:function(){return this._color},getRect:function(){return null}}),DotSprite=ShapeSprite.extend({init:function(a){this._super()&&(this._dotSize=a,this._reset(),
bRet=!0);return bRet},_reset:function(){this._draw.clear();this._draw.drawDot(this.getPosition(),this._dotSize,cc.c4f(this._color.r/255,this._color.g/255,this._color.b/255,this._opacity/255))},getRect:function(){return new cc.rect(this.getPositionX()-this._dotSize/2,this.getPositionY()-this._dotSize/2,this._dotSize,this._dotSize)}});DotSprite.create=function(a){var b=new DotSprite;return b&&b.init(a)?b:null};
var LineSprite=ShapeSprite.extend({init:function(a,b,c){this._super()&&(this._lineWidth=c,this._startPosition=a,this._endPosition=b,this._reset(),bRet=!0);return bRet},_reset:function(){this._draw.clear();this._draw.drawSegment(this._startPosition,this._endPosition,this._lineWidth,cc.c4f(this._color.r/255,this._color.g/255,this._color.b/255,this._opacity/255))}});LineSprite.create=function(a,b,c){var d=new LineSprite;return d&&d.init(a,b,c)?d:null};
var PolygonSprite=ShapeSprite.extend({init:function(a,b){this._super()&&(this._sides=a,this._radius=b,this._reset(),bRet=!0);return bRet},_reset:function(){this._draw.clear();this._draw.drawPoly(this._getPolygonVertArray(),cc.c4f(this._color.r/255,this._color.g/255,this._color.b/255,this._opacity/255),0,cc.c4f(0,0,0,0))},_getPolygonVertArray:function(){for(var a=[],b=0;b<this._sides;b++)a.push(cc.p(this._radius*Math.cos(2*b/this._sides*Math.PI),this._radius*Math.sin(2*b/this._sides*Math.PI)));return a}});
PolygonSprite.create=function(a,b){var c=new PolygonSprite;return c&&c.init(a,b)?c:null};var FrameSprite=ShapeSprite.extend({init:function(a,b){this._super()&&(this._pointArray=a,this._frameWidth=b,this._reset(),bRet=!0);return bRet},_reset:function(){this._draw.clear();this._draw.drawPoly(this._pointArray,cc.c4f(0,0,0,0.01),this._frameWidth,cc.c4f(this._color.r/255,this._color.g/255,this._color.b/255,this._opacity/255))}});
FrameSprite.create=function(a,b){var c=new FrameSprite;return c&&c.init(a,b)?c:null};FrameSprite.create=function(a,b,c){void 0==c&&(c=0);var d=new FrameSprite;return d&&d.init([cc.p(b-c,b-c),cc.p(a.width-b+c,b-c),cc.p(a.width-b+c,a.height-b+c),cc.p(b-c,a.height-b+c)],b)?d:null};var LANGUAGE_CHINESE=1,LANGUAGE_JAPANESE=2,LANGUAGE_ENGLISH=3,STRING_GAMELAYER_KEY=1E3,STRING_NO_WEBGL_SUPPORT=++STRING_GAMELAYER_KEY,STRING_GAMERULE_KEY=2E3,STRING_GAMERULE_TITLE=++STRING_GAMERULE_KEY,STRING_GAMERULE_DETAIL_1=++STRING_GAMERULE_KEY,STRING_GAMERULE_DETAIL_2=++STRING_GAMERULE_KEY,STRING_GAMERULE_DETAIL_3=++STRING_GAMERULE_KEY,STRING_GAMERULE_DETAIL_4=++STRING_GAMERULE_KEY,STRING_GAMERULE_DETAIL_5=++STRING_GAMERULE_KEY,STRING_GAMERULE_DETAIL_6=++STRING_GAMERULE_KEY,STRING_GAMERULE_DETAIL_7=
++STRING_GAMERULE_KEY,STRING_GAMERULE_DETAIL_8=++STRING_GAMERULE_KEY,STRING_GAMERULE_DETAIL_9=++STRING_GAMERULE_KEY,STRING_LEADERBOARD_KEY=3E3,STRING_LEADERBOARD_TITLE=++STRING_LEADERBOARD_KEY,STRING_LEADERBOARD_PLAYER_LABEL=++STRING_LEADERBOARD_KEY,STRING_LEADERBOARD_LEVEL_LABEL=++STRING_LEADERBOARD_KEY,STRING_LEADERBOARD_DATE_LABEL=++STRING_LEADERBOARD_KEY,STRING_LEADERBOARD_SCORE_LABEL=++STRING_LEADERBOARD_KEY,STRING_LEADERBOARD_LOADING_SCORE=++STRING_LEADERBOARD_KEY,STRING_LEADERBOARD_LOADING_OK=
++STRING_LEADERBOARD_KEY,STRING_LEADERBOARD_LOADING_ERR=++STRING_LEADERBOARD_KEY,STRING_PAUSE_KEY=4E3,STRING_PAUSE_NEW_GAME=++STRING_PAUSE_KEY,STRING_PAUSE_RESUME_GAME=++STRING_PAUSE_KEY,STRING_PAUSE_EXIT_GAME=++STRING_PAUSE_KEY,STRING_PAUSE_MUSIC_ON=++STRING_PAUSE_KEY,STRING_PAUSE_MUSIC_OFF=++STRING_PAUSE_KEY,STRING_PAUSE_SE_ON=++STRING_PAUSE_KEY,STRING_PAUSE_SE_OFF=++STRING_PAUSE_KEY,STRING_PAUSE_LANGUAGE_CN=++STRING_PAUSE_KEY,STRING_PAUSE_LANGUAGE_EN=++STRING_PAUSE_KEY,STRING_PAUSE_LANGUAGE_JA=
++STRING_PAUSE_KEY,STRING_SUBMIT_KEY=5E3,STRING_SUBMIT_TITLE=++STRING_SUBMIT_KEY,STRING_SUBMIT_INPUT_NAME=++STRING_SUBMIT_KEY,STRING_SUBMIT_CONFIRM=++STRING_SUBMIT_KEY,STRING_SUBMIT_CANCEL=++STRING_SUBMIT_KEY,STRING_SUBMIT_UPLOADING=++STRING_SUBMIT_KEY,STRING_SUBMIT_OK=++STRING_SUBMIT_KEY,STRING_SUBMIT_ERR=++STRING_SUBMIT_KEY,STRING_MAINMENU_KEY=6E3,STRING_MAINMENU_TITLE=++STRING_MAINMENU_KEY,LanguageUtil=function(){};LanguageUtil.languageType=LANGUAGE_ENGLISH;
LanguageUtil.getLocalizatedString=function(a){return a==STRING_NO_WEBGL_SUPPORT?LanguageUtil.languageType==LANGUAGE_CHINESE?"\u4f60\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301WEBGL :(":LanguageUtil.languageType==LANGUAGE_JAPANESE?"TILES PUZZLE":"YOUR BROWSER DOES NOT SUPPORT WEBGL :(":a==STRING_GAMERULE_TITLE?LanguageUtil.languageType==LANGUAGE_CHINESE?"\u6e38\u620f\u89c4\u5219":LanguageUtil.languageType==LANGUAGE_JAPANESE?"TILES PUZZLE":"GAME RULE":a==STRING_GAMERULE_DETAIL_1?LanguageUtil.languageType==
LANGUAGE_CHINESE?"R1. \u901a\u8fc7\u8fde\u63a5\u76f8\u540c\u989c\u8272\u7684\u7816\u5757\u6765\u6d88\u9664\u5b83\u4eec":LanguageUtil.languageType==LANGUAGE_JAPANESE?"TILES PUZZLE":"R1. Remove tiles with same color by linking them together":a==STRING_GAMERULE_DETAIL_2?LanguageUtil.languageType==LANGUAGE_CHINESE?"R2. \u901a\u5e38\u60c5\u51b5\u4e0b\u53ea\u80fd\u598a\u8fde\u63a5\u6c34\u5e73\u6216\u5782\u76f4\u76f8\u90bb\u7684\u7816\u5757":LanguageUtil.languageType==LANGUAGE_JAPANESE?"TILES PUZZLE":"R2. Normally, only tiles vertically / horizontally can be connected":
a==STRING_GAMERULE_DETAIL_3?LanguageUtil.languageType==LANGUAGE_CHINESE?"R3. \u901a\u8fc7\u628a\u9053\u5177\u548c\u7816\u5757\u8fde\u63a5(\u4efb\u4f55\u989c\u8272\u7816\u5757)\u6765\u4f7f\u7528\u9053\u5177":LanguageUtil.languageType==LANGUAGE_JAPANESE?"TILES PUZZLE":"R3. Connect items with any tiles to use them":a==STRING_GAMERULE_DETAIL_4?LanguageUtil.languageType==LANGUAGE_CHINESE?"R4. \u81f3\u5c11\u9700\u8981\u8fde\u63a53\u5757\u7816\u5757\u624d\u80fd\u5c06\u5176\u6d88\u9664":LanguageUtil.languageType==
LANGUAGE_JAPANESE?"TILES PUZZLE":"R4. You need to connect at least 3 tiles to remove them":a==STRING_GAMERULE_DETAIL_5?LanguageUtil.languageType==LANGUAGE_CHINESE?"R5. \u6bcf\u6b21\u6d88\u9664\u7684\u7816\u5757\u8d8a\u591a\u5c31\u8d8a\u6709\u673a\u4f1a\u83b7\u5f97\u597d\u7684\u9053\u5177":LanguageUtil.languageType==LANGUAGE_JAPANESE?"TILES PUZZLE":"R5. More tiles removed at one time better items rewarded":a==STRING_GAMERULE_DETAIL_6?LanguageUtil.languageType==LANGUAGE_CHINESE?"R6. \u6bcf\u6b21\u6d88\u9664\u7684\u7816\u5757\u8d8a\u4f1a\u83b7\u5f97\u8d8a\u591a\u7684\u65f6\u95f4\u5956\u52b1":
LanguageUtil.languageType==LANGUAGE_JAPANESE?"TILES PUZZLE":"R6. More tiles removed at one time more time plus rewarded":a==STRING_GAMERULE_DETAIL_7?LanguageUtil.languageType==LANGUAGE_CHINESE?"R7. \u9053\u5177\u5404\u6709\u4e0d\u540c\u7684\u6548\u679c\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u5c1d\u8bd5\u53d1\u73b0\u5b83\u4eec\u7684\u7528\u9014":LanguageUtil.languageType==LANGUAGE_JAPANESE?"TILES PUZZLE":"R7. Items have different effects, try figure'em out":a==STRING_GAMERULE_DETAIL_8?LanguageUtil.languageType==
LANGUAGE_CHINESE?"R8. \u70b9\u51fb\u7f51\u683c\u5916\u7684\u4efb\u610f\u5730\u65b9\u53ef\u4ee5\u6682\u505c\u6e38\u620f":LanguageUtil.languageType==LANGUAGE_JAPANESE?"TILES PUZZLE":"R8. Click outside the board to pause the game":a==STRING_GAMERULE_DETAIL_9?LanguageUtil.languageType==LANGUAGE_CHINESE?"R9. \u8fdb\u5165\u75af\u72c2\u6a21\u5f0f/\u8d85\u7ea7\u75af\u72c2\u6a21\u5f0f\u540e\u4f60\u51e0\u4e4e\u53ef\u4ee5/\u53ef\u4ee5\u4e3a\u6240\u6b32\u4e3a^_^":LanguageUtil.languageType==LANGUAGE_JAPANESE?
"TILES PUZZLE":"R9. Try figure out what you can do in (SUPER) FEVER MODE":a==STRING_LEADERBOARD_TITLE?LanguageUtil.languageType==LANGUAGE_CHINESE?"\u9ad8\u5206\u699c":LanguageUtil.languageType==LANGUAGE_JAPANESE?"TILES PUZZLE":"LEADERBOARD":a==STRING_LEADERBOARD_PLAYER_LABEL?LanguageUtil.languageType==LANGUAGE_CHINESE?"\u73a9\u5bb6":LanguageUtil.languageType==LANGUAGE_JAPANESE?"TILES PUZZLE":"NAME":a==STRING_LEADERBOARD_LEVEL_LABEL?LanguageUtil.languageType==LANGUAGE_CHINESE?"\u7b49\u7ea7":LanguageUtil.languageType==
LANGUAGE_JAPANESE?"TILES PUZZLE":"LEVEL":a==STRING_LEADERBOARD_DATE_LABEL?LanguageUtil.languageType==LANGUAGE_CHINESE?"\u65e5\u671f":LanguageUtil.languageType==LANGUAGE_JAPANESE?"TILES PUZZLE":"DATE":a==STRING_LEADERBOARD_SCORE_LABEL?LanguageUtil.languageType==LANGUAGE_CHINESE?"\u5f97\u5206":LanguageUtil.languageType==LANGUAGE_JAPANESE?"TILES PUZZLE":"SCORE":a==STRING_LEADERBOARD_LOADING_SCORE?LanguageUtil.languageType==LANGUAGE_CHINESE?"\u9ad8\u5206\u699c\u52a0\u8f7d\u4e2d ......":LanguageUtil.languageType==
LANGUAGE_JAPANESE?"TILES PUZZLE":"LOADING SCORE ......":a==STRING_LEADERBOARD_LOADING_OK?LanguageUtil.languageType==LANGUAGE_CHINESE?"\u52a0\u8f7d\u6210\u529f":LanguageUtil.languageType==LANGUAGE_JAPANESE?"TILES PUZZLE":"LOADING OK ......":a==STRING_LEADERBOARD_LOADING_ERR?LanguageUtil.languageType==LANGUAGE_CHINESE?"\u52a0\u8f7d\u5931\u8d25":LanguageUtil.languageType==LANGUAGE_JAPANESE?"TILES PUZZLE":"LOADING ERROR, TRY LATER ......":a==STRING_PAUSE_NEW_GAME?LanguageUtil.languageType==LANGUAGE_CHINESE?
"\u5f00\u59cb\u6e38\u620f":LanguageUtil.languageType==LANGUAGE_JAPANESE?"TILES PUZZLE":"NEW GAME":a==STRING_PAUSE_RESUME_GAME?LanguageUtil.languageType==LANGUAGE_CHINESE?"\u7ee7\u7eed\u6e38\u620f":LanguageUtil.languageType==LANGUAGE_JAPANESE?"TILES PUZZLE":"RESUME GAME":a==STRING_PAUSE_EXIT_GAME?LanguageUtil.languageType==LANGUAGE_CHINESE?"\u9000\u51fa\u6e38\u620f":LanguageUtil.languageType==LANGUAGE_JAPANESE?"TILES PUZZLE":"EXIT GAME":a==STRING_PAUSE_MUSIC_ON?LanguageUtil.languageType==LANGUAGE_CHINESE?
"\u5f00\u542f\u97f3\u4e50":LanguageUtil.languageType==LANGUAGE_JAPANESE?"TILES PUZZLE":"MUSIC ON":a==STRING_PAUSE_MUSIC_OFF?LanguageUtil.languageType==LANGUAGE_CHINESE?"\u5173\u95ed\u97f3\u4e50":LanguageUtil.languageType==LANGUAGE_JAPANESE?"TILES PUZZLE":"MUSIC OFF":a==STRING_PAUSE_SE_ON?LanguageUtil.languageType==LANGUAGE_CHINESE?"\u5f00\u542f\u97f3\u6548":LanguageUtil.languageType==LANGUAGE_JAPANESE?"TILES PUZZLE":"SE ON":a==STRING_PAUSE_SE_OFF?LanguageUtil.languageType==LANGUAGE_CHINESE?"\u5173\u95ed\u97f3\u6548":
LanguageUtil.languageType==LANGUAGE_JAPANESE?"TILES PUZZLE":"SE OFF":a==STRING_PAUSE_LANGUAGE_CN?LanguageUtil.languageType==LANGUAGE_CHINESE?"\u8bed\u8a00: \u4e2d\u6587":LanguageUtil.languageType==LANGUAGE_JAPANESE?"TILES PUZZLE":"LANG: CHINESE":a==STRING_PAUSE_LANGUAGE_EN?LanguageUtil.languageType==LANGUAGE_CHINESE?"\u8bed\u8a00: \u82f1\u8bed":LanguageUtil.languageType==LANGUAGE_JAPANESE?"TILES PUZZLE":"LANG: ENGLISH":a==STRING_PAUSE_LANGUAGE_JA?LanguageUtil.languageType==LANGUAGE_CHINESE?"\u8bed\u8a00: \u65e5\u8bed":
LanguageUtil.languageType==LANGUAGE_JAPANESE?"TILES PUZZLE":"LANG: JAPANESE":a==STRING_SUBMIT_TITLE?LanguageUtil.languageType==LANGUAGE_CHINESE?"\u4e0a\u4f20\u9ad8\u5206":LanguageUtil.languageType==LANGUAGE_JAPANESE?"TILES PUZZLE":"SUBMIT HIGHSCORE":a==STRING_SUBMIT_INPUT_NAME?LanguageUtil.languageType==LANGUAGE_CHINESE?"\u8bf7\u8f93\u5165\u73a9\u5bb6\u540d":LanguageUtil.languageType==LANGUAGE_JAPANESE?"TILES PUZZLE":"PLEASE INPUT YOUR NAME ......":a==STRING_SUBMIT_CONFIRM?LanguageUtil.languageType==
LANGUAGE_CHINESE?"\u4e0a\u4f20":LanguageUtil.languageType==LANGUAGE_JAPANESE?"TILES PUZZLE":"SUBMIT":a==STRING_SUBMIT_CANCEL?LanguageUtil.languageType==LANGUAGE_CHINESE?"\u5173\u95ed":LanguageUtil.languageType==LANGUAGE_JAPANESE?"TILES PUZZLE":"CLOSE":a==STRING_SUBMIT_UPLOADING?LanguageUtil.languageType==LANGUAGE_CHINESE?"\u9ad8\u5206\u4e0a\u4f20\u4e2d ......":LanguageUtil.languageType==LANGUAGE_JAPANESE?"TILES PUZZLE":"UPLOADING HIGHSCORE ......":a==STRING_SUBMIT_OK?LanguageUtil.languageType==LANGUAGE_CHINESE?
"\u4e0a\u4f20\u6210\u529f":LanguageUtil.languageType==LANGUAGE_JAPANESE?"TILES PUZZLE":"UPLOADING OK ......":a==STRING_SUBMIT_ERR?LanguageUtil.languageType==LANGUAGE_CHINESE?"\u4e0a\u4f20\u5931\u8d25":LanguageUtil.languageType==LANGUAGE_JAPANESE?"TILES PUZZLE":"UPLOADING ERROR ......":a==STRING_MAINMENU_TITLE?"TILES PUZZLE":"ERROR"};